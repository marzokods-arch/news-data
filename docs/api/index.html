<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>News Data Viewer</title>
  <style>
    body { font-family: Arial, sans-serif; margin: 2rem; background: #fafafa; }
    h1 { margin-bottom: 1rem; }
    .card { background: white; padding: 1rem; margin: 0.5rem 0; border-radius: 8px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
    .card img { max-width: 200px; float:right; margin-left:1rem; }
  </style>
</head>
<body>
  <h1>Collected News (latest.json)</h1>
  <div id="news"></div>

  <script>
    async function load() {
      const res = await fetch('./api/latest.json');
      const data = await res.json();
      const container = document.getElementById('news');
      data.items.slice(0,50).forEach(item => {
        const div = document.createElement('div');
        div.className = 'card';
        div.innerHTML = `
          ${item.image ? `<img src="${item.image}" alt="">` : ""}
          <h3><a href="${item.link}" target="_blank">${item.title}</a></h3>
          <p>${item.summary || ""}</p>
          <small>${item.pubDate || ""} â€” ${item.source?.name || ""}</small>
        `;
        container.appendChild(div);
      });
    }
    load();
  </script>
</body>
</html>
